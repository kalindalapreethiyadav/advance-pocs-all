
# variables:
# Local Variable: Defined within a task (using set_fact).
# Global Variable: Defined at the playbook level (using vars).
# Prompt Variable: Defined by asking the user during playbook execution (vars_prompt).
# Vars File: Defined in an external file and included in the playbook (vars_files).
# Command Line Variable: Passed directly via the command line using -e or --extra-vars.

- name: local variables
  hosts: localhost
  gather_facts: true
  vars: # Global variables
    var1: "hello var1"
    home_path: "/home/ec2-user/advance-pocs-all/Ansible"  # no "-" for vars for more variables

  tasks:
    - name: print local vars
      debug:
        msg: "{{ var1 }}"

    - name: set fact variables 
      set_fact:
        fact_var1: "{{ home_path }}"
      
# can execute mutiple playbooks in single file
- name: Example of command line variable
  hosts: localhost
  tasks:
    - name: Print command line variable
      debug:
        msg: "{{ cmd_var }}"   # no variables passed from CMD Line below undefined vars error you get

# [ec2-user@ip-172-31-92-178 Ansible]$ ansible-playbook -e cmd_var="command var value" vars.yml   ---- command line passing vars

        
# TASK [Print command line variable] *******************************************************************************************
# fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'cmd_var' is undefined. 'cmd_var' is undefined\n\nThe error appears to be in '/home/ec2-user/advance-pocs-all/Ansible/vars.yml': line 29, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Print command line variable\n      ^ here\n"}


    - name: set variables for next gather_fact playbook
      set_fact:
        linux_path: "/home/ec2-user/advance-pocs-all/Ansible"

    - import_playbook: "./gather_facts.yml"   #should be in "" for import playbook as we have path var


# Output:
# WARNING]: No inventory was parsed, only implicit localhost is available
# [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

# PLAY [local variables] *******************************************************************************************************

# TASK [Gathering Facts] *******************************************************************************************************
# ok: [localhost]

# TASK [print local vars] ******************************************************************************************************
# ok: [localhost] => {
#     "msg": "hello var1"
# }

# PLAY RECAP *******************************************************************************************************************
# localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

